## **5.2.2 通过减少不确定性选择匹配变量**

在SM（样本均值）中，由于手头的数据集的结构，有一个内在的不确定性：描述Y和Z之间的关联的参数的估计值，报告了多个同样可信的解决方案。例如，由这些参数的最大似然估计器得到的估计值处于一个通常封闭的同样最大似然解的集合中，称为似然岭。样本均值问题解的非唯一性在不同的文章中都有描述（见[15]和[16]的第四章）。

鉴于A和B除了与共同变量X的关联外，不包含关于Y和Z的任何信息，该解集描述了在观察数据下Y和Z之间所有可能关系所代表的所有参数值。由于这个原因，D'Orazio等人[16]把这组同样可信的估计值称为“不确定性集”。我们在选择变量时遵循的思路是，找到能使统计匹配问题的不确定性最小化的变量集X，即X的集合导致最小的不确定性集。

当X、Y和Z分类，不确定性集可以通过诉诸Fr'echet界线来计算。让 $$p_{hjk}= P_r（X = h，Y = j，Z = k）$$
对于h = 1,...,H， j = 1,...,J， k = 1,...,K;通过对X的调节，概率 $$p_{.jk} = P_r（Y = j，Z = k）$$
位于区间:  $$[\underline{p}_ {jk}，\bar{p}_ {jk}]=[\sum_{h}p_{h\ldots}\max\lbrace0，p_{j\lvert h}+p_{k\lvert h}-1\rbrace，\sum_{h}p_{h\ldots}\min\lbrace p_{j\lvert h}，p_{k\lvert h}\rbrace]\tag{5.1}$$
应该注意的是，当外部信息可用时，例如在或然率表Y×Z或Y×Z|X的单元格上的结构零，这些界限并不清晰单一；事实上，可接受的值是一个封闭的子区间（当估计的概率是兼容的），见[31]。

表达式（5.1）允许推导出或然率表Y×Z中每个单元的界限。这些信息可以用来推导出不确定性的整体度量；一个非常基本的度量可以通过考虑边界宽度的平均值来获得：  $$d=\frac{1}{J\times K}\sum_{j，k}（\bar{p}_ {.jk}-\underline{p}_ {.jk}）\tag{5.2}$$

这是一种简单明了的测量不确定性的方法，但它不是唯一的。事实上，它的缺点是每个约束都是逐个单元计算的，没有考虑到或然率表中其他单元的情况。[9]中提出了一个针对给定X的(Y,Z)整个分布的一般不确定性度量，而不仅仅是针对这个分布中的某个单元，无论手头的变量是什么性质，即离散的还是连续的，一般都有效。当Y和Z是连续的，不一定是高斯的时候，提出了非参数估计，如[11]中讨论的。说明了在这些情况下应用逻辑约束的可能性。然后在[10]中说明了根据复杂的调查设计抽取的样本的估计器及其渐进特性。其他不确定性的测量方法见[32]。   

当处理分类X、Y和Z变量时，为选择匹配变量而提出的方法依赖于一个简单的想法：选择在减少测量的不确定性方面更有效的X变量子集，例如在d方面。不幸的是，d的值随着X变量数量的增加而减少，原则上我们可以选择整个X集，但由于我们需要执行估计步骤，所以必须参考简明原则。事实上，尽管在参数（变量）过少的模型下进行推断会有偏差，但参数过多的模型可能会出现精度低下或识别出实际上是虚假的效应。出于这个原因，有必要确定一个标准来决定如何限制变量X的选择。   

在不同的观点下，设想一种情况，即Y|X和Z|X完全已知（可以渐进地预期）。在这种极端情况下，应该只注意不确定性集的宽度，因为决定Fr´echet界限的可估计分布是没有错误的。当只有两个样本A和B是已知的时候，对可估计分布Y|X,Z|X和X的估计的准确性以及由此产生的不确定性d的额外方面成为需要考虑的一个重要问题。我们在惩罚项中照顾到了这个方面，例如确保稀疏性低于一定的水平，因此估计者仍然表现得很好。   

## 5.2.3 一个说明性的例子

这个基于模拟的经验分析的结果说明了这个问题。参考数据是来自 "Quine"[22]的数据，包括146个观测值和5个变量。变量 "Eth"（种族背景）有两个类别： "性别 "有两个类别，"年龄 "组有4个类别，"Lrn"（学习者状况）是一个有两个级别的因素（平均或慢速学习者），"天数"是一年中缺课的天数。后一个变量被分为7个类别，并被命名为（"c.Days"）。  

为了解决一个统计匹配问题中的数据转换，选择了常见的变量X，包括“Eth”、“Sex”和“Age”，而“Lrn”是Y，Z是“c.Days”。
 我们称整个数据集为目标人群，因此不确定度测量是通过对146个单位上观察到的(Y;X)和(Z;X)的相对频率进行计算得出的。我们用d∗表示这个数量。   
 
然后，我们开始进行统计匹配练习，并抽取两组数据（A和B）进行无重复抽样。通过使用A和B来估计不确定度测量d，我们用dˆ表示这个估计值。d∗和dˆ是根据不同的X变量组合计算的。  

针对两个不同的设置S1和S2，该过程将被重复10000次，这两个设置在A和B的样本大小上不同；具体而言，在S1中，A和B的样本大小分别为nA=30和nB=20，而在S2中，它们分别为nA=70和nB=79。  


 图5.1和5.2显示了dˆ和目标值d∗的箱线图，其中目标值用“*”符号表示。

### 图5.1   
模拟示例： $$n_A =70，n_B =79$$  
  
### 图5.2   
模拟示例： $$n_{A} =30，n_{B} =20$$    

匹配变量组合用1（无匹配变量）、2（仅“种族”）、3（“性别”）、4（“年龄”）、5（“种族”，“性别”）、6（“种族”，“年龄”）、7（“性别”，“年龄”）和8（“种族”，“性别”，“年龄”）表示。  

 首先，我们观察到随着匹配变量数量的增加，不确定性值始终会降低。我们提醒您，这仅适用于包括相同变量的集合，例如与“年龄”相对应的不确定性高于与（“种族”，“年龄”）相对应的不确定性，但不高于（“种族”，“性别”）的不确定性。  
   
我们观察到目标值d∗与dˆ的经验分布之间的差距越来越大，意味着在这个实验中，当考虑越来越多的匹配变量时，估计值更多地受到偏差而不是变异性的影响。  
  
我们的猜测是，这主要是由于存在样本零细胞，这些零细胞在实际人群中实际上是非零细胞所导致的。这可以解释箱线图中观察到的系统低估现象。比较这两个图，我们观察到随着样本大小的减少，dˆ的性能越来越差。   
  
根据前面的考虑，我们建议向与估计器准确性相关的d添加一个惩罚项，特别是向由匹配变量获得的列联表的稀疏度。
